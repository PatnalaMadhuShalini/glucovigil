<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="800" height="1000" viewBox="0 0 800 1000">
  <!-- Styles -->
  <style>
    .background { fill: white; }
    .actor { fill: #e3f2fd; stroke: #64b5f6; stroke-width: 2; }
    .actor-text { font-family: Arial; font-size: 14px; font-weight: bold; fill: #1976d2; text-anchor: middle; }
    .lifeline { stroke: #90caf9; stroke-width: 2; stroke-dasharray: 5,5; }
    .active-lifeline { fill: #bbdefb; stroke: #64b5f6; stroke-width: 2; }
    .message { stroke: #455a64; stroke-width: 1.5; marker-end: url(#arrow); }
    .return-message { stroke: #546e7a; stroke-width: 1.5; stroke-dasharray: 5,5; marker-end: url(#arrow); }
    .message-text { font-family: Arial; font-size: 12px; fill: #37474f; }
    .note { fill: #fff9c4; stroke: #ffd54f; stroke-width: 1; }
    .note-text { font-family: Arial; font-size: 12px; fill: #5d4037; }
  </style>
  
  <!-- Arrow Marker Definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#455a64"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect class="background" width="100%" height="100%" />
  
  <!-- Actors -->
  <rect class="actor" x="100" y="50" width="100" height="40" rx="5" ry="5" />
  <text class="actor-text" x="150" y="75">User</text>
  <line class="lifeline" x1="150" y1="90" x2="150" y2="950" />
  
  <rect class="actor" x="250" y="50" width="100" height="40" rx="5" ry="5" />
  <text class="actor-text" x="300" y="75">UI</text>
  <line class="lifeline" x1="300" y1="90" x2="300" y2="950" />
  
  <rect class="actor" x="400" y="50" width="100" height="40" rx="5" ry="5" />
  <text class="actor-text" x="450" y="75">API Client</text>
  <line class="lifeline" x1="450" y1="90" x2="450" y2="950" />
  
  <rect class="actor" x="550" y="50" width="100" height="40" rx="5" ry="5" />
  <text class="actor-text" x="600" y="75">API Server</text>
  <line class="lifeline" x1="600" y1="90" x2="600" y2="950" />
  
  <rect class="actor" x="700" y="50" width="100" height="40" rx="5" ry="5" />
  <text class="actor-text" x="750" y="75">Database</text>
  <line class="lifeline" x1="750" y1="90" x2="750" y2="950" />
  
  <!-- Actor Boxes at bottom -->
  <rect class="actor" x="100" y="950" width="100" height="40" rx="5" ry="5" />
  <text class="actor-text" x="150" y="975">User</text>
  
  <rect class="actor" x="250" y="950" width="100" height="40" rx="5" ry="5" />
  <text class="actor-text" x="300" y="975">UI</text>
  
  <rect class="actor" x="400" y="950" width="100" height="40" rx="5" ry="5" />
  <text class="actor-text" x="450" y="975">API Client</text>
  
  <rect class="actor" x="550" y="950" width="100" height="40" rx="5" ry="5" />
  <text class="actor-text" x="600" y="975">API Server</text>
  
  <rect class="actor" x="700" y="950" width="100" height="40" rx="5" ry="5" />
  <text class="actor-text" x="750" y="975">Database</text>
  
  <!-- Authentication -->
  <!-- Login Message -->
  <rect class="active-lifeline" x="145" y="120" width="10" height="830" />
  <rect class="active-lifeline" x="295" y="150" width="10" height="140" />
  
  <line class="message" x1="155" y1="150" x2="295" y2="150" />
  <text class="message-text" x="225" y="140">Login/Register</text>
  
  <rect class="active-lifeline" x="445" y="180" width="10" height="80" />
  <line class="message" x1="305" y1="180" x2="445" y2="180" />
  <text class="message-text" x="375" y="170">Authentication Request</text>
  
  <rect class="active-lifeline" x="595" y="200" width="10" height="60" />
  <line class="message" x1="455" y1="200" x2="595" y2="200" />
  <text class="message-text" x="525" y="190">POST /api/login</text>
  
  <rect class="active-lifeline" x="745" y="220" width="10" height="20" />
  <line class="message" x1="605" y1="220" x2="745" y2="220" />
  <text class="message-text" x="675" y="210">Verify User</text>
  
  <line class="return-message" x1="745" y1="240" x2="605" y2="240" />
  <text class="message-text" x="675" y="255">User Data</text>
  
  <line class="return-message" x1="595" y1="260" x2="455" y2="260" />
  <text class="message-text" x="525" y="275">Auth Token + User Data</text>
  
  <line class="return-message" x1="445" y1="280" x2="305" y2="280" />
  <text class="message-text" x="375" y="295">Authentication Success</text>
  
  <line class="return-message" x1="295" y1="300" x2="155" y2="300" />
  <text class="message-text" x="225" y="315">Login Success</text>
  
  <!-- Health Data Submission -->
  <rect class="active-lifeline" x="295" y="350" width="10" height="200" />
  <line class="message" x1="155" y1="350" x2="295" y2="350" />
  <text class="message-text" x="225" y="340">Submit Health Data</text>
  
  <rect class="note" x="320" y="380" width="150" height="35" />
  <text class="note-text" x="395" y="395">Validate Form</text>
  <text class="note-text" x="395" y="410">on Client Side</text>
  
  <rect class="active-lifeline" x="445" y="450" width="10" height="80" />
  <line class="message" x1="305" y1="450" x2="445" y2="450" />
  <text class="message-text" x="375" y="440">Submit Health Data</text>
  
  <rect class="active-lifeline" x="595" y="470" width="10" height="150" />
  <line class="message" x1="455" y1="470" x2="595" y2="470" />
  <text class="message-text" x="525" y="460">POST /api/health-data</text>
  
  <rect class="note" x="620" y="490" width="150" height="35" />
  <text class="note-text" x="695" y="505">Calculate Risk</text>
  <text class="note-text" x="695" y="520">Score</text>
  
  <rect class="active-lifeline" x="745" y="550" width="10" height="50" />
  <line class="message" x1="605" y1="550" x2="745" y2="550" />
  <text class="message-text" x="675" y="540">Store Health Data</text>
  
  <line class="return-message" x1="745" y1="600" x2="605" y2="600" />
  <text class="message-text" x="675" y="615">Confirmation</text>
  
  <line class="return-message" x1="595" y1="620" x2="455" y2="620" />
  <text class="message-text" x="525" y="635">Risk Assessment</text>
  
  <line class="return-message" x1="455" y1="640" x2="305" y2="640" />
  <text class="message-text" x="375" y="655">Assessment Data</text>
  
  <line class="return-message" x1="295" y1="660" x2="155" y2="660" />
  <text class="message-text" x="225" y="675">Display Risk Score</text>
  
  <!-- View Recommendations -->
  <rect class="active-lifeline" x="295" y="720" width="10" height="120" />
  <line class="message" x1="155" y1="720" x2="295" y2="720" />
  <text class="message-text" x="225" y="710">View Recommendations</text>
  
  <rect class="active-lifeline" x="445" y="740" width="10" height="80" />
  <line class="message" x1="305" y1="740" x2="445" y2="740" />
  <text class="message-text" x="375" y="730">Get Recommendations</text>
  
  <rect class="active-lifeline" x="595" y="760" width="10" height="40" />
  <line class="message" x1="455" y1="760" x2="595" y2="760" />
  <text class="message-text" x="525" y="750">GET /api/recommendations</text>
  
  <line class="return-message" x1="595" y1="800" x2="455" y2="800" />
  <text class="message-text" x="525" y="815">Personalized Recommendations</text>
  
  <line class="return-message" x1="445" y1="820" x2="305" y2="820" />
  <text class="message-text" x="375" y="835">Format Recommendations</text>
  
  <line class="return-message" x1="295" y1="840" x2="155" y2="840" />
  <text class="message-text" x="225" y="855">Display Recommendations</text>
  
  <!-- Logout -->
  <rect class="active-lifeline" x="295" y="880" width="10" height="60" />
  <line class="message" x1="155" y1="880" x2="295" y2="880" />
  <text class="message-text" x="225" y="870">Logout</text>
  
  <rect class="active-lifeline" x="445" y="900" width="10" height="40" />
  <line class="message" x1="305" y1="900" x2="445" y2="900" />
  <text class="message-text" x="375" y="890">Logout Request</text>
  
  <rect class="active-lifeline" x="595" y="920" width="10" height="20" />
  <line class="message" x1="455" y1="920" x2="595" y2="920" />
  <text class="message-text" x="525" y="910">POST /api/logout</text>
</svg>
